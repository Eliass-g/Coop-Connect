import{q as v,r as l,e as I,G as S,u as E,H as u,j as e,I as z}from"./app-BP2DlbBf.js";import B from"./NavBar-5D4p5KA4.js";import{u as w}from"./index-CXaPWWXl.js";import{Main as T,Section as U,Title as _,ProfileWrapper as F,ProfileDetails as R,ProfileImageWrapper as b,ProfileImage as j,ClearProfileButton as L,BioSection as M,BioTitle as k,DetailValue as N,FieldTitle as p,Input as c,EditProfileButton as W,DropzoneContainer as q}from"./Profile.styles-DtLsbvg-.js";import"./NavBar.styles-gKPQgFy_.js";import"./styled-components.browser.esm-WlhnpHHw.js";import"./settings-UVqU3YHX.js";import"./index.es-Cq2d97-S.js";import"./index-DUoLStMl.js";import"./index-BMRxO3cL.js";const A=({onDrop:m})=>{const{getRootProps:n,getInputProps:s}=w({onDrop:m});return e.jsxs(q,{...n(),children:[e.jsx("input",{...s()}),e.jsx("p",{children:"Drop a profile image here"})]})};function $(){const{props:m}=v(),{user:n}=m,[s,h]=l.useState(null),o=I(S),[f,x]=l.useState(""),[y,g]=l.useState(o.profile_image),t=E();l.useEffect(()=>{t(u(n))},[t]);const D=async a=>{a.preventDefault();const r=new FormData;r.append("profile_image",y),r.append("name",o.name),r.append("description",o.description),r.append("email",o.email),r.append("company",o.company),r.append("positiontitle",o.positiontitle);try{await t(z(r)).unwrap(),x("Changes saved successfully!"),setTimeout(()=>x(""),3e3)}catch(d){console.error("Error updating profile:",d)}},P=a=>{if(a&&a.length>0){const r=a[0];h(URL.createObjectURL(r)),g(r)}},C=()=>{g(null),h(null),t(u({profile_image:null}))},i=a=>{const{name:r,value:d}=a.target;t(u({[r]:d})),console.log(n)};return n?e.jsx(B,{header:"Profile",children:e.jsx(T,{children:e.jsxs(U,{children:[e.jsx(_,{children:"Employer Profile"}),e.jsx(F,{children:e.jsxs(R,{children:[e.jsx(b,{children:s?e.jsx(j,{loading:"lazy",src:s,alt:"Profile"}):o.profile_image?e.jsxs("div",{children:[e.jsx(j,{loading:"lazy",src:o.profile_image,alt:"Profile Image"}),e.jsx(L,{onClick:C,children:"Clear"})]}):e.jsx(A,{onDrop:P})}),e.jsxs(M,{children:[e.jsx(k,{children:"Bio:"}),e.jsx(N,{name:"description",value:o.description,onChange:i,placeholder:"Add a few words about yourself..."})]})]})}),e.jsx(p,{children:"Full Name"}),e.jsx(c,{type:"text",name:"name",value:o.name,onChange:i}),e.jsx(p,{children:"Email"}),e.jsx(c,{type:"email",name:"email",value:o.email,onChange:i}),e.jsx(p,{children:"Company"}),e.jsx(c,{type:"text",name:"company",value:o.company,onChange:i}),e.jsx(p,{children:"Position"}),e.jsx(c,{type:"text",name:"positiontitle",value:o.positiontitle,onChange:i}),e.jsx(W,{onClick:D,children:"Edit Profile"}),f&&e.jsx("p",{style:{color:"green",marginTop:"10px",fontSize:"0.9em"},children:f})]})})}):e.jsx("div",{children:"Loading..."})}export{$ as default};
