import{u as Q,e as V,J as X,W as Z,r,K as U,j as e,L as $,M as ee}from"./app-DNWayCnB.js";import{f as se}from"./index-BMRxO3cL.js";import{F as ne}from"./index.es-BshNEZt1.js";import te from"./ConfirmationModal-DkwcmH_9.js";import{Main as re,Section as oe,AccountHeader as ce,AccountDetail as j,SettingsSection as x,DemoNotice as f,SettingsHeader as p,SettingsColumn as w,SettingsContent as m,SettingsTitle as g,SettingsDetail as S,SettingsControls as P,CurrentSelection as ie,SettingsOptions as I,OptionButton as L,PasswordChangeForm as ae,FormField as v,Label as C,Input as N,Message as le,SubmitButton as de,OtherOptionButton as l,SaveOptionButton as B}from"./SettingsPage.styles-M5RtUZFH.js";import"./index-CCYKEXcx.js";import"./styled-components.browser.esm-B0h7x_ce.js";function Se(){const i=Q(),c=V(X),{post:_}=Z(),[o,H]=r.useState("account"),[y,b]=r.useState(""),[D,A]=r.useState(""),[M,T]=r.useState(""),[O,a]=r.useState(""),[d,z]=r.useState("Private"),[J,E]=r.useState(!1),[k,K]=r.useState((c==null?void 0:c.notifications)??!1),n=!1,s="1em",[R,u]=r.useState("success");r.useEffect(()=>{i(U())},[i]);const W=c==null?void 0:c.id,h=t=>{o!==t&&H(t)},Y=t=>{t.preventDefault(),i($({current_password:y,new_password:D,new_password_confirmation:M})).unwrap().then(()=>{u("success"),a("Password updated successfully"),i(U())}).catch(he=>{u("error"),a("Password change unsuccessful")}),setTimeout(()=>{a(""),u("success"),b(""),A(""),T("")},3e3)},F=t=>{z(t)},q=()=>{i(ee(W)).unwrap().then(()=>{a("Account deleted successfully"),E(!1),_(route("logout")).then(()=>{window.location.reload()})}).catch(t=>{a(t.message||"An error occurred")})},G=()=>{K(!k)};return e.jsx(re,{darkMode:n,fontSize:s,children:e.jsxs(oe,{fontSize:s,darkMode:n,className:"account-section",children:[e.jsxs(ce,{fontSize:s,darkMode:n,children:[e.jsx(j,{fontSize:s,darkMode:n,onClick:()=>h("account"),active:o==="account",children:"Account"}),e.jsx(j,{fontSize:s,darkMode:n,onClick:()=>h("notifications"),active:o==="notifications",children:"Notifications"}),e.jsx(j,{fontSize:s,darkMode:n,onClick:()=>h("preferences"),active:o==="preferences",children:"Preferences"})]}),o==="account"&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{fontSize:s,darkMode:n,children:[e.jsx(f,{fontSize:s,darkMode:n,children:"DEMO NOT FUNCTIONAL (Profile Privacy)"}),e.jsxs(p,{fontSize:s,darkMode:n,children:[e.jsx(w,{fontSize:s,darkMode:n,children:e.jsxs(m,{fontSize:s,darkMode:n,children:[e.jsx(g,{darkMode:n,fontSize:s,children:"Profile Privacy"}),e.jsx(S,{fontSize:s,darkMode:n,children:"Anyone can find and view the contents of your profile. Your profile will be viewable from job postings and search functions."})]})}),e.jsxs(P,{fontSize:s,darkMode:n,children:[e.jsxs(ie,{children:["Currently Selected: ",d]}),e.jsxs(I,{fontSize:s,darkMode:n,children:[e.jsx(L,{fontSize:s,darkMode:n,className:d==="Private"?"private":"",onClick:()=>F("Private"),children:"Private"}),e.jsx(L,{fontSize:s,darkMode:n,className:d==="Public"?"public":"",onClick:()=>F("Public"),children:"Public"})]})]})]})]}),e.jsxs(ae,{fontSize:s,darkMode:n,onSubmit:Y,children:[e.jsxs(v,{fontSize:s,darkMode:n,children:[e.jsx(C,{fontSize:s,darkMode:n,children:"Current Password"}),e.jsx(N,{fontSize:s,darkMode:n,type:"password",placeholder:"Current Password",value:y,onChange:t=>b(t.target.value)})]}),e.jsxs(v,{fontSize:s,darkMode:n,children:[e.jsx(C,{fontSize:s,darkMode:n,children:"New Password"}),e.jsx(N,{fontSize:s,darkMode:n,type:"password",placeholder:"New Password",value:D,onChange:t=>A(t.target.value)})]}),e.jsxs(v,{fontSize:s,darkMode:n,children:[e.jsx(C,{fontSize:s,darkMode:n,children:"Confirm New Password"}),e.jsx(N,{fontSize:s,darkMode:n,type:"password",placeholder:"Confirm New Password",value:M,onChange:t=>T(t.target.value)})]}),O&&e.jsx(le,{fontSize:s,darkMode:n,style:{color:R==="error"?"red":"green"},children:O}),e.jsx(de,{fontSize:s,darkMode:n,children:"Change Password"})]})]}),o==="notifications"&&e.jsxs(x,{fontSize:s,darkMode:n,children:[e.jsxs(p,{fontSize:s,darkMode:n,children:[e.jsx(w,{fontSize:s,darkMode:n,children:e.jsxs(m,{fontSize:s,darkMode:n,children:[e.jsx(g,{fontSize:s,darkMode:n,children:"Notification Settings"}),e.jsx(S,{fontSize:s,darkMode:n,children:"Enable or disable email notifications for your account."})]})}),e.jsxs(P,{fontSize:s,darkMode:n,children:[e.jsx(l,{fontSize:s,darkMode:n,onClick:G,children:k?"Disable Notifications":"Enable Notifications"}),e.jsx(B,{fontSize:s,darkMode:n,children:"Save my preferences"})]})]}),e.jsx("br",{}),e.jsx(f,{fontSize:s,darkMode:n,children:"DEMO NOT FUNCTIONAL"})]}),o==="preferences"&&e.jsxs(x,{fontSize:s,darkMode:n,children:[e.jsxs(p,{fontSize:s,darkMode:n,children:[e.jsx(w,{fontSize:s,darkMode:n,children:e.jsxs(m,{fontSize:s,darkMode:n,children:[e.jsx(g,{fontSize:s,darkMode:n,children:"Accessibility Settings"}),e.jsx(S,{fontSize:s,darkMode:n,children:"Adjust your viewing preferences"})]})}),e.jsxs(P,{fontSize:s,darkMode:n,children:[e.jsxs(I,{fontSize:s,darkMode:n,children:[e.jsx(l,{fontSize:s,darkMode:n,active:s==="small",children:"Small"}),e.jsx(l,{fontSize:s,darkMode:n,active:s==="medium",children:"Medium"}),e.jsx(l,{fontSize:s,darkMode:n,active:s==="large",children:"Large"})]}),e.jsxs(l,{fontSize:s,darkMode:n,children:[e.jsx(ne,{icon:se})," Dark Mode"]}),e.jsx(B,{fontSize:s,darkMode:n,children:"Save my preferences"})]})]}),e.jsx("br",{}),e.jsx(f,{fontSize:s,darkMode:n,children:"DEMO NOT FUNCTIONAL"})]}),J&&e.jsx(te,{fontSize:s,darkMode:n,title:"Confirm Account Deletion",onConfirm:q,onCancel:()=>E(!1),children:"Are you sure you want to delete your account? This action cannot be undone."})]})})}export{Se as default};
